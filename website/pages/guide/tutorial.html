
<article id="guide-tutorial" class="markup">
    <div class="spacer-small"></div>
    <h1>5-Minute Tutorial</h1>
    <div class="spacer"></div>
    <p>
        Utkrisht (uki) is a source-to-source compiled language targeting JavaScript, designed to evolve into a full-featured web framework.
    </p>
    <div class="spacer"></div>
    
    <h2>Features</h2>
    <p>
        <ul>
            <li>Statically & strongly typed (with 0 type declaration requirement thanks to enigma type checking)</li>
            <li>Follows procedural paradigm</li>
            <li>Simple & minimal indentation based syntax</li>
        </ul>
    </p>
    
    <div class="spacer"></div>
    
    <p class="warning-box">
        Syntax highlighting on this site is regex-based and may occasionally highlight code incorrectly.
    </p>
    <div class="spacer-small"></div>

 
    <h2>Example</h2>
    <pre><code class="language-utkrisht"># A program to print prime numbers between a user defined range
is-prime number:
    when number !> 1
        exit wrong
    else number = 2
        exit right
    else remainder number, 2 = 0
        exit wrong

    loop 3_(power number, 0.5)_2 with i
        when remainder number, i = 0
            exit wrong

    exit right


print-primes number-1, number-2:
    write "Prime numbers from |number-1| to |number-2| are:"

    loop number-1_number-2 with number
        when is-prime number
            write number


number-1: to-number prompt "What is your 1st number" 
number-2: to-number prompt "What is your 2nd number"

print-primes number-1, number-2</code></pre>

    <div class="spacer"></div>
    
    <h2>Hello world</h2>
    <pre><code class="language-utkrisht">write "Hello World"</code></pre>
    <!-- <p><code class="inline language-">write</code> is a procedure (function) and not a statement. Uki does not have a C/Ruby-like round bracket syntax for calling functions.</p> -->
    
    <div class="spacer"></div>
    
    <h2>Comments</h2>
    <pre><code class="language-utkrisht"># This is a comment</code></pre>
    <p>Only single line comments are allowed.</p>
    <div class="spacer-small"></div>
    <div class="information-box">
        Notation in this tutorial (used wherever necessary):
        <ul>
            <li><code class="language- inline">#></code> comment means the message logged in the console.</li>
            <li><code class="language- inline">#-></code> comment means the value of the preceding expression.</li>
        </ul>
    </div>
    
    <div class="spacer"></div>
    
    <h2>Data types</h2>
    <p>
        Utkrisht has 5 data types:
    </p>
    <ol>
        <li>String</li>
        <li>Number</li>
        <li>Boolean</li>
        <li>Procedure</li>
        <li>Structure</li>
    </ol>
    <pre><code class="language-utkrisht"># String 
"I program in Utkrisht ðŸ˜¼"

# Number 
-10.56

# Boolean 
right
wrong 

# Procedure 
{write "Hello World"}

# Structure 
[1, 2, 3]
[name = "uki", age = 1]
[1, 2, name = "uki", age = 1, 3]</code></pre>
    
    <div class="spacer"></div>
    
    <h2>Variables</h2>
    <p>Variables are identifiers that store data.</p>
   
    <pre><code class="language-utkrisht">
message: "Hello World"

age-in-years: 45

is-logged: wrong

greet name: 
    write "Hello \(name), how are you?"

fruits: ["apple", "banana", "mango"]

product: [
    name = "Headphones"
    price = 2999
    get-discounted-price discount =
        exit price - discount
]
</code></pre>
    <div class="spacer-small"></div>
    <p>To reassign a value to the container, use the reassignment operator <code class="inline language-">=</code></p>
    <pre><code class="language-utkrisht">quantity: 34
quantity = 65

# data type of container doesn't matter
quantity = "high"
quantity = [in-number = 17, in-words = "low"]</code></pre>

    <div class="spacer"></div>

    <h2>Common Operations</h2>
    <h3>Variable operations</h3>
    <pre><code class="language-utkrisht"># Assignment 
name: "uki"

# Reassignment
name = "js"</code></pre>
    <p>Assignment operators like <code class="inline language-*">+=</code>, <code class="inline language-*">-=</code>, <code class="inline language-*">++</code> etc. are not allowed.</p>
    <div class="spacer-small"></div>
    <h3>Arithmetic operations</h3>
    <pre><code class="language-utkrisht"># Addition
2 + 5 #-> 7

# Substraction
6 - 3 #-> 3

# Multiplication 
4 * 2 #-> 8

# Division 
6 / 3 #-> 2

# Remainder 
remainder 4, 3 #-> 1

# Power
power 3, 2 #-> 9

# Negation 
num: 5
-num #-> -5

# Useless operator 
# does nothing, same as writing `num`
+num #-> 5</code></pre>
    <div class="spacer-small"></div>
    <h3>Comparison operations</h3>
    <pre><code class="language-utkrisht"># equals
# by default `=` is treated as an reassignment operator unless present in an expression context
(x = y) 

# less than
x < y

# more than
x > y

# not equals
x != y

# not less than
# same as greater-than-equals operator `>=` in js
x !< y 

# not more than
# same as less-than-equals operator `<=` in js
x !> y</code></pre>
    <div class="spacer-small"></div>
    <h3>Logical operations</h3>
    <pre><code class="language-utkrisht"># And
x & y

# Or
x | y

# Not
!x</code></pre>
    
    <div class="spacer-small"></div>
    
    <h3>Range operation</h3>
    <div class="spacer-extra-small"></div>
    <p>A special syntax to create a structure with range properties, useful in loops.</p>
    <pre><code class="language-utkrisht">1_5_2 #> [
      #>     type = "range"
      #>     start = 1
      #>     end-specified = right
      #>     inclusive = right
      #>     end = 5
      #>     gap-specified = right
      #>     gap = 2
      #> ]

25_-6 #> [
      #>     type = "range"
      #>     start = 25
      #>     end-specified = right
      #>     inclusive = right
      #>     end = -6
      #>     gap-specified = wrong
      #>     gap = 0
      #> ]

0.523_&lt;23.56 #> [
             #>     type = "range"
             #>     start = 0.523
             #>     end-specified = right
             #>     inclusive = wrong
             #>     end = 23.56
             #>     gap-specified = wrong
             #>     gap = 0
             #> ]

10_~ #> [
     #>     type = "range"
     #>     start = 10
     #>     end-specified = wrong
     #>     inclusive = wrong
     #>     end = 0
     #>     gap-specified = wrong
     #>     gap = 0
     #> ]</code></pre>
    
    <div class="spacer-small"></div>
    
    <h3>Accessing operation</h3>
    <p>Works on strings and structures.</p>
    <pre><code class="language-utkrisht"># structure
user: [name = "bro", shout name = {write upper-case "I'm \(name)"}]
user.name            #-> "bro"
user.shout "Faraday" #> I'M FARADAY


fruits: ["apple", "mango", cost = 540, "banana"]
fruits.1     #-> "apple" (Array index starts at 1)
fruits.2     #-> "mango"
fruits.3     #-> "banana", `cost = 540` part does not affect indices
fruits.cost  #-> 540


# string
name: "uki"
name.1    #-> "u"</code></pre>

        <div class="spacer-small"></div>
        
        <h3>Call operation</h3>
        <p>Unlike C/Ruby like languages, Uki does not have a round bracket based syntax for calling procedures. Instead Uki uses <code class="inline language-*">;</code> as the call operator.</p>
        <pre><code class="language-utkrisht">{write "Hello, World"}     # A procedure (reference) just lying there doing nothing
{write "Hello, World"};    #> Hello, World

# If a procedure is called with arguments, then `;` is optional
{write arguments.1}; "message"     #> message
{write arguments.1} "message"      #> message

# Same applies for variables storing a procedure
greet:
    write "Hello, World"

greet   # Does nothing, just lying there
greet;  #> Hello, World


# Passing (reference of) procedures
do-3-times function:
    loop 3
        function;

greet:
    write "Hello"

shout:
    write "HELLO"

do-3-times greet #> Hello
                 #> Hello
                 #> Hello

do-3-times shout #> HELLO
                 #> HELLO
                 #> HELLO
</code></pre>


    <div class="spacer"></div>
    
    <h2>Control flow</h2>
    <h3>Conditionals</h3>
    <pre><code class="language-utkrisht">age: 23

when age > 18
    write "You're an adult"
else age &lt; 18
    write "You're a child"
else
    write "You're no longer a child, you became an adult!"</code></pre>
    <div class="spacer-small"></div>
	<h3>Loops</h3>
    <pre><code class="language-utkrisht"># loop keyword followed directly by a procedure
# loops infinitely
loop
    write "hello"

# loop keyword followed by a boolean
# loops infinitely if right
loop right
    write "hello"

# doesn't loop if wrong
loop wrong
    write "hello"


# loop keyword followed by a number
# loops that many times
loop 5 # loops 5 times
    write "hello"


# loop keyword followed by an iterable (i.e. string, array or object)
# loops `length iterable` times 
loop "Hello, World!" # loops 13 times
    write "hello"

loop [52, right, "orange"] # loops 3 times
    write "hello"

loop [id = 567, price = 899] # loops 2 times
    write "hello"

# with statement
# declares a iterator/counter
loop 5 with i 
    write i
    # here 
    # `i` is the iterator
    # `i` starts a 1 and ends at 5

fruits: ["apple", "mango", "banana"]
loop fruits with fruit
    write "I love \(fruit)"
    
    # I love apple
    # I love mango
    # I love banana

# multiple iterators can be declared
loop fruit with [key, fruit]
    write "\(i). I love \(fruit)"
    
    # 1. I love apple
    # 2. I love mango 
    # 3. I love banana

name: "uki"
loop name with [index, character]
    write "The character at position \(index) is: \(character)"</code></pre>
    <div class="spacer-small"></div>
    <p class="information-box">Some looping constructs are still under consideration and not included here.</p>
    <div class="spacer-small"></div>
    
    <pre><code class="language-utkrisht"># stop statement, stops the loop
loop 50 with i
    when i = 4
        stop
    write i
    
    # 1 
    # 2 
    # 3

# skip statement, skips the iteration 
loop 4 with i
    when i = 2
        skip
    write i
    
    # 1
    # 3
    # 4

# iterators can be used as labels in nested loops for next and stop statements
loop 3 with i
    loop 3 with j
        when i = 2
            next i
        write "\(i) \(j)"
    
    # 1 1
    # 1 2
    # 1 3
    # 3 1
    # 3 2
    # 3 3</code></pre>

    <div class="spacer"></div>
    <h2>Try</h2>
    <p>Handling runtime errors (exceptions).</p>
    <pre><code class="language-utkrisht">try
    to-number "hi"
fix err # or any other identifier for the error object
    write error.message

# if you don't require error details, you can omit it
try
    to-number "hi"
fix
    write "something isn't right"</code></pre>
    
    <div class="spacer-small"></div>
    
    <p>You can also create your own errors using <code class="inline language-">error</code> function.</p>
    <pre><code class="language-utkrisht"># Signature of error function
error String message, String name ~ "":</code></pre>
    <div class="spacer-extra-small"></div>
    <p>If <code class="inline language-">error</code> is called outside a <code class="inline language-">try</code> block, it logs the <code class="inline language-">message</code> to the console.</p>
    <pre><code class="language-utkrisht">error "this is my error." #> Error [line X]: This is my error.
error "This is my error", "my error" #> Error [line X]: This is my error.</code></pre>
    <div class="spacer-extra-small"></div>
<p>If called inside a <code class="inline language-">try</code> block, it sends an object with <code class="inline language-">message</code> and <code class="inline language-">name</code> to the <code class="inline language-">fix</code> block.</p>
    <pre><code class="language-utkrisht">try
    error "This is my error."
fix err
    write err.message #> This is my error.
    write err.name    #> 
                      # shows ""

try
    error "This is my error.", "my error"
fix err
    write err.message #> This is my error.
    write err.name    #> my error</code></pre>
    <div class="spacer-small"></div>
    <p><code class="inline language-">name</code> property us useful when dealing with multiple errors.</p>
    <pre><code class="language-utkrisht">try
    function-that-can-generate-different-types-of-errors
fix err
    when err.name = "value error"
        write "this is a value error"
    else err.name = "type error"
        write "this is a type error"</code></pre>
    <div class="spacer-small"></div>
    <div class="information-box">To not cause confusion, we use the identifier <code class="inline language-">err</code> here for storing error object, but you should always use <code class="inline language-">error</code> as identifier for clarity. The Utkrisht langauge style guide recommends avoiding abbreviations.</div>
    <div class="spacer"></div>
    
    
    <h2>Module system</h2>
    <p>Top-level containers can be imported and exported between files. No namespace prefixing (or aliasing) is required to access imported containers unless in case of name-conflicts.</p>
    <pre><code class="language-utkrisht"># math.uki
export add a, b:
    exit a + b

export square a:
    exit power a, 2</code></pre>
    <pre><code class="language-utkrisht"># main.uki
import math

result: add 1, 2
squared: square result
write squared</code></pre>
    <div class="spacer-small"></div>
    <p>Cyclic imports are supported.</p>
    <pre><code class="language-utkrisht"># a.uki
import b

export message-1: "Hello World!"
write message-2</code></pre>
    <pre><code class="language-utkrisht"># b.uki
import a

export message-2: "Goodbye World!"
write message-1</code></pre>


</article>


