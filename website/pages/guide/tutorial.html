
<article id="guide-tutorial" class="markup">
    <div class="spacer-small"></div>
    <h1>5-Minute Tutorial</h1>
    <div class="spacer"></div>
    <p>
        Utkrisht (uki) is a source-to-source compiled language targeting JavaScript, designed to evolve into a full-featured web framework.
    </p>
    <div class="spacer"></div>
    
    <h2>Features</h2>
    <p>
        <ul>
            <li>Statically & strongly typed (with 0 type declaration requirement thanks to enigma type checking)</li>
            <li>Follows procedural paradigm</li>
            <li>Simple & minimal indentation based syntax</li>
        </ul>
    </p>
    
    <div class="spacer"></div>
    
    <p class="warning-box">
        Syntax highlighting on this site is regex-based and may occasionally highlight code incorrectly.
    </p>
    <div class="spacer-small"></div>

 
    <h2>Example</h2>
    <pre><code class="language-utkrisht"># A program to print prime numbers between a user defined range
is-prime num:
    when num !> 1
        exit wrong
    else num = 2
        exit right
    else (remainder num, 2) = 0
        exit wrong

    loop 3_(power num, 0.5)_2 with i
        when (remainder num, i) = 0
            exit wrong

    exit right


print-primes num-1, num-2: 
    write "Prime numbers from |num-1| to |num-2| are:"
    
    loop num-1_num-2 with num
        when is-prime num
            write num-1_num-2


num-1: to-number prompt "What is your 1st number" 
num-2: to-number prompt "What is your 2nd number"

print-primes num-1, num-2</code></pre>

    <div class="spacer"></div>
    
    <h2>Hello world</h2>
    <pre><code class="language-utkrisht">write "Hello World"</code></pre>
    <p><code class="inline language-">write</code> is a function and not a statement. Function calls do not require parentheses.</p>
    
    <div class="spacer"></div>
    
    <h2>Comments</h2>
    <pre><code class="language-utkrisht"># This is a comment</code></pre>
    <p>Only single line comments are allowed.</p>
    <div class="spacer-small"></div>
    <div class="information-box">
        Notation in this tutorial (used wherever necessary):
        <ul>
            <li><code class="language- inline">#></code> comment means the message logged in the console.</li>
            <li><code class="language- inline">#-></code> comment means the value of the preceding expression.</li>
        </ul>
    </div>
    
    <div class="spacer"></div>
    
    <h2>Data types</h2>
    <p>
        Utkrisht have 3 kinds of data types
    </p>
    <ol>
            <li>Primitive data types
                <ul>
                    <li>String</li>
                    <li>Number</li>
                    <li>Boolean</li>
                </ul>
            </li>
            <li>Procedural data type <ul><li>Procedure</li></ul></li>
            <li>Structural data types
                <ul>
                    <li>Object</li>
                    <li>Array</li>
                </ul>
            </li>
        </ol>
    <pre><code class="language-utkrisht"># String 
"I program in Utkrisht ðŸ˜¼"

# Number 
-10.56

# Boolean 
right
wrong 

# Procedure 
{write "Hello World"}

# Array 
[1, 2, 3]

# Object 
[name: "uki", age: 1]</code></pre>
    
    <div class="spacer"></div>
    
    <h2>Container</h2>
    <p>Containers are identifiers which store data.</p>
    <p>Depending on the kind of data type they store, there are 3 types of containers.</p>
    <ol>
        <li><strong>Variable:</strong> Container that stores a primitive.</li>
        <li><strong>Function:</strong> Container that stores a procedure.</li>
        <li><strong>Reference:</strong> Container that stores a structure.</li>
    </ol>
    <pre><code class="language-utkrisht"># Variables
message: "Hello World"
age-in-years: 45
is-logged: wrong

# Function
greet name: 
    write "Hello |name|, how are you?"

# Reference 
fruits: ["apple", "banana", "mango"]
product: [
    name: "Headphones"
    price: 2999
    get-discounted-price discount:
        exit price - discount
]
</code></pre>
    <div class="spacer-small"></div>
    <p>To reassign a value to the container, use the reassignment operator <code class="inline language-">=</code></p>
    <pre><code class="language-utkrisht">quantity: 34
quantity = 65

# data type of container doesn't matter
quantity = "high"
quantity = [in-number: 17, in-words: "low"]</code></pre>

    <div class="spacer"></div>

    <h2>Common Operations</h2>
    <h3>Container operations</h3>
    <pre><code class="language-utkrisht"># Assignment 
name: "uki"

# Reassignment
name = "js"

# Make container unreassignable (meant for libraries, not normal use)
unreassignable name
name = "stuff" #> Error: Cannot reassign a unreassignable container `name`</code></pre>
    <p>Assignment operators like <code class="inline language-*">+=</code>, <code class="inline language-*">-=</code>, <code class="inline language-*">++</code> etc. are not allowed.</p>
    <div class="spacer-small"></div>
    <h3>Arithmetic operations</h3>
    <pre><code class="language-utkrisht"># Addition
2 + 5 #-> 7

# Substraction
6 - 3 #-> 3

# Multiplication 
4 * 2 #-> 8

# Division 
6 / 3 #-> 2

# Remainder 
remainder 4, 3 #-> 1

# Power
power 3, 2 #-> 9

# Negation 
num: 5
-num #-> -5

# Useless operator 
# does nothing, same as writing `num`
+num #-> 5</code></pre>
    <div class="spacer-small"></div>
    <p class="information-box"><code class="inline language-*">-10</code> is interpreted as the number <code class="inline language-*">-10</code>, not as the result of negating <code class="inline language-*">10</code>.</p>
    <div class="spacer-small"></div>
    <h3>Comparison operations</h3>
    <pre><code class="language-utkrisht"># equals
# by default `=` is treated as an reassignment operator unless present in an expression context
(x = y) 

# less than
x < y

# more than
x > y

# not equals
x != y

# not less than
# same as greater-than-equals operator `>=` in js
x !< y 

# not more than
# same as less-than-equals operator `<=` in js
x !> y</code></pre>
    <div class="spacer-small"></div>
    <h3>Logical operations</h3>
    <pre><code class="language-utkrisht"># And
x & y

# Or
x ? y

# Not
!x</code></pre>
    
    <div class="spacer-small"></div>
    
    <h3>Range operation</h3>
    <div class="spacer-extra-small"></div>
    <p>A special kind of syntax to create an object with range properties, useful in accessing expression and loops.</p>
    <pre><code class="language-utkrisht">1_5_2 #> [
      #>     type: "range"
      #>     start: 1
      #>     end-specified: right
      #>     inclusive: right
      #>     end: 5
      #>     gap-specified: right
      #>     gap: 2
      #> ]

25_-6 #> [
      #>     type: "range"
      #>     start: 25
      #>     end-specified: right
      #>     inclusive: right
      #>     end: -6
      #>     gap-specified: wrong
      #>     gap: 0
      #> ]

0.523_&lt;23.56 #> [
             #>     type: "range"
             #>     start: 0.523
             #>     end-specified: right
             #>     inclusive: wrong
             #>     end: 23.56
             #>     gap-specified: wrong
             #>     gap: 0
             #> ]

10_! #> [
     #>     type: "range"
     #>     start: 10
     #>     end-specified: wrong
     #>     inclusive: wrong
     #>     end: 0
     #>     gap-specified: wrong
     #>     gap: 0
     #> ]

</code></pre>
    
    <div class="spacer-small"></div>
    
    <h3>Accessing operation</h3>
    <pre><code class="language-utkrisht"># objects
user: [name: "bro", shout: {write "I'M BROOOO"]
user.name  #-> "bro"
user.shout #> I'M BROOOO

# array
fruits: ["apple", "mango", "banana"]
fruits.1    #-> "apple" (Array index starts at 1)
fruits.-1   #-> "banana"
fruits.2_3  #-> ["mango", "banana"]
fruits.2_-3 #-> ["mango", "apple"]
fruits.-1_1 #-> ["banana", "mango", "apple"]
            # reverses the array, same as using reverse function 

# string
name: "uki"
name.1    #-> "u"
name.1_2  #-> "uk"</code></pre>


    <div class="spacer"></div>
    
    <h2>Control flow</h2>
    <h3>When</h3>
    <pre><code class="language-utkrisht">age: 23

when age > 18
	write "You're an adult"
else age < 18
	write "You're a child"
else
	write "You're no longer a child, you became an adult!"</code></pre>
    <div class="spacer-small"></div>
	<h3>Loops</h3>
    <pre><code class="language-utkrisht"># loop keyword followed by a procedure
# loops infinitely
loop
    write "hello"

# loop keyword followed by a boolean
# loops infinitely if right
loop right
    write "hello"

# doesn't loop if wrong
loop wrong
    write "hello"


# loop keyword followed by a number
# loops that many times
loop 5 # loops 5 times
    write "hello"


# loop keyword followed by an iterable (i.e. string, array or object)
# loops `length iterable` times 
loop "Hello, World!" # loops 13 times
    write "hello"

loop [52, right, "orange"] # loops 3 times
    write "hello"

loop [id: 567, price: 899] # loops 2 times
    write "hello"

# with statement
# declares a iterator/counter
loop 5 with i 
    write i
    # here 
    # `i` is the iterator
    # `i` starts a 1 and ends at 5

fruits: ["apple", "mango", "banana"]
loop fruits with fruit
    write "I love |fruit|"
    
    # I love apple
    # I love mango
    # I love banana

# multiple iteravtors can be declared, separated by spaces
loop fruit with i fruit
    write "|i|. I love |fruit|"
    
    # 1. I love apple
    # 2. I love mango 
    # 3. I love banana

name: "uki"
loop name with i char
    write "The char at position |i| is: |char|"</code></pre>
    <div class="spacer-small"></div>
    <p class="information-box">Some looping constructs are still under consideration and not included here.</p>
    <div class="spacer-small"></div>
    
    <pre><code class="language-utkrisht"># stop statement
loop 50 with i
    when i = 4
        stop
    write i
    
    # 1 
    # 2 
    # 3

# next statement
loop 3 with i
    when i = 2
        next
    write i
    
    # 1
    # 3

# iterators can be used as labels in nested loops for next and stop statements
loop 3 with i
    loop 3 with j
        when i = 2
            next i
        write "|i| |j|"
    
    # 1 1
    # 1 2
    # 1 3
    # 3 1
    # 3 2
    # 3 3</code></pre>

    <div class="spacer"></div>
    <h2>Try</h2>
    <p>Handling runtime errors (exceptions).</p>
    <pre><code class="language-utkrisht">try
    to-number "hi"
fix err # or any other identifier for the error object
    write error.message

# if you don't require error details, you can omit it
try
    to-number "hi"
fix
    write "something isn't right"</code></pre>
    
    <div class="spacer-small"></div>
    
    <p>You can also create your own errors using <code class="inline language-">error</code> function.</p>
    <pre><code class="language-utkrisht"># Signature of error function
error String message, String name ~ "":</code></pre>
    <div class="spacer-extra-small"></div>
    <p>If <code class="inline language-">error</code> is called outside a <code class="inline language-">try</code> block, it logs the <code class="inline language-">message</code> to the console.</p>
    <pre><code class="language-utkrisht">error "this is my error." #> Error [line X]: This is my error.
error "This is my error", "my error" #> Error [line X]: This is my error.</code></pre>
    <div class="spacer-extra-small"></div>
<p>If called inside a <code class="inline language-">try</code> block, it sends an object with <code class="inline language-">message</code> and <code class="inline language-">name</code> to the <code class="inline language-">fix</code> block.</p>
    <pre><code class="language-utkrisht">try
    error "This is my error."
fix err
    write err.message #> This is my error.
    write err.name    #> 
                      # shows ""

try
    error "This is my error.", "my error"
fix err
    write err.message #> This is my error.
    write err.name    #> my error</code></pre>
    <div class="spacer-small"></div>
    <p><code class="inline language-">name</code> property us useful when dealing with multiple errors.</p>
    <pre><code class="language-utkrisht">try
    function-that-can-generate-different-types-of-errors
fix err
    when err.name = "value error"
        write "this is a value error"
    else err.name = "type error"
        write "this is a type error"</code></pre>
    <div class="spacer-small"></div>
    <div class="information-box">To not cause confusion, we use the identifier <code class="inline language-">err</code> here for storing error object, but you should always use <code class="inline language-">error</code> as identifier for clarity. The Utkrisht langauge style guide recommends avoiding abbreviations.</div>
    <div class="spacer"></div>
    
    
    <h2>Module system</h2>
    <p>Top-level containers can be imported and exported between files. No namespace prefixing (or aliasing) is required to access imported containers unless in case of name-conflicts.</p>
    <pre><code class="language-utkrisht"># math.uki
export add a, b:
    exit a + b

export square a:
    exit power a, 2</code></pre>
    <pre><code class="language-utkrisht"># main.uki
import math

result: add 1, 2
squared: square result
write squared</code></pre>
    <div class="spacer-small"></div>
    <p>Cyclic imports are supported.</p>
    <pre><code class="language-utkrisht"># a.uki
import b

export message-1: "Hello World!"
write message-2</code></pre>
    <pre><code class="language-utkrisht"># b.uki
import a

export message-2: "Goodbye World!"
write message-1</code></pre>


</article>


